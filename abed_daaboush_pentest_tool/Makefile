# Makefile لأداة اختبار الاختراق
# المطور: عابد دعبوش

.PHONY: help install test run clean build package

help:
@echo "أوامر متاحة:"
@echo "  install    - تثبيت المتطلبات"
@echo "  test       - تشغيل الاختبارات"
@echo "  run        - تشغيل الأداة"
@echo "  clean      - تنظيف الملفات المؤقتة"
@echo "  build      - بناء ملف تنفيذي"
@echo "  package    - إنشاء حزمة للتوزيع"

install:
@echo "تثبيت المتطلبات..."
pip3 install -r requirements.txt

test:
@echo "تشغيل الاختبارات..."
python3 test_modules.py

run:
@echo "تشغيل أداة اختبار الاختراق..."
python3 run_gui.py

clean:
@echo "تنظيف الملفات المؤقتة..."
find . -type f -name "*.pyc" -delete
find . -type d -name "__pycache__" -exec rm -rf {} +
rm -rf build/ dist/ *.egg-info/
rm -f *.log

build:
@echo "بناء ملف تنفيذي..."
pip3 install pyinstaller
pyinstaller pentest_tool.spec

package:
@echo "إنشاء حزمة للتوزيع..."
python3 setup.py sdist bdist_wheel
